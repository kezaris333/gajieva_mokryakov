#!/bin/bash

#проверка на количество аргументов
if [ "$#" -lt 2 ]; then
    echo "Использование: $0 <количество слов> <каталог1> <каталог2> ..."
    exit 1
fi

#получение количества слов из первого аргумента
word_count_threshold=$1
shift # Сдвигаем аргументы, чтобы оставить только каталоги

#итерация по всем указанным каталогам
for dir in "$@"; do
    #проверка, что каталог существует
    if [ -d "$dir" ]; then
        #поиск всех файлов в каталоге
        find "$dir" -type f | while read -r file; do
            #подсчет количества слов в файле
            word_count=$(wc -w < "$file")
            #проверка, превышает ли количество слов заданное значение
            if [ "$word_count" -gt "$word_count_threshold" ]; then
                # Вывод полного пути к файлу
                echo "$file"
            fi
        done
    else
        echo "Каталог $dir не существует."
    fi
done
